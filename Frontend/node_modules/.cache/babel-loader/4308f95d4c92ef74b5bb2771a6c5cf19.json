{"ast":null,"code":"var _jsxFileName = \"/Users/douglas/Desktop/Interview-main/Frontend/src/components/Cart/Cart.jsx\";\nimport React, { Component } from 'react';\nimport AppContext from '../../context/AppContext';\nimport Container from '../Container';\nimport Header from '../Header';\nimport './Cart.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Cart extends Component {\n  constructor() {\n    super(...arguments);\n\n    this.getCartTotal = () => {\n      const {\n        cart,\n        currentCurrency\n      } = this.context;\n      let total = 0;\n\n      for (const product of cart) {\n        const productPrice = this.context.getProductPrice(product, true);\n        const priceAsNumber = Number(productPrice.replace(/[^\\d.]+/, '')).toFixed(2);\n        total += parseFloat(priceAsNumber);\n      }\n\n      return `${currentCurrency}${Number(total).toFixed(2)}`;\n    };\n\n    this.increaseProductQuantity = product => {\n      const {\n        cart\n      } = this.context;\n      const productIndex = cart.findIndex(p => p.id === product.id);\n      product.quantity++;\n      cart.splice(productIndex, 1, product);\n      this.context.updateCart(cart);\n    };\n\n    this.decreaseProductQuantity = product => {\n      const {\n        cart\n      } = this.context;\n      const productIndex = cart.findIndex(p => p.id === product.id);\n      product.quantity--;\n\n      if (product.quantity <= 0) {\n        cart.splice(productIndex, 1);\n      } else {\n        cart.splice(productIndex, 1, product);\n      }\n\n      this.context.updateCart(cart);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(AppContext.Consumer, {\n      children: context => /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"My bag: \", context.cart.length, \" \", context.cart.length === 1 ? 'Item' : 'Items']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-products\",\n            children: context.cart.map(product => {\n              var _product$gallery;\n\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cart-product\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"product-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => this.increaseProductQuantity(product),\n                    children: \"+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 53,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: product.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 54,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"product-price\",\n                    children: context.getProductPrice(product, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 55,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"product-attributes\",\n                    style: {\n                      marginBottom: '1em'\n                    },\n                    children: product.attributes.map(attribute => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"attribute\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"attribute-name\",\n                        children: [attribute.name, \":\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 59,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"attribute-items\",\n                        children: attribute.items.map(item => /*#__PURE__*/_jsxDEV(\"button\", {\n                          style: {\n                            display: 'inline-block',\n                            marginRight: '0.2em',\n                            backgroundColor: attribute.id === 'Color' ? item.value : null,\n                            padding: attribute.id === 'Color' ? '0.5em' : null\n                          },\n                          children: attribute.id === 'Color' ? '' : item.value\n                        }, item.id, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 62,\n                          columnNumber: 65\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 60,\n                        columnNumber: 57\n                      }, this)]\n                    }, attribute.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 58,\n                      columnNumber: 53\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 56,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => this.decreaseProductQuantity(product),\n                    children: \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"product-image\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: (_product$gallery = product.gallery) === null || _product$gallery === void 0 ? void 0 : _product$gallery.at(0),\n                    alt: product.name,\n                    style: {\n                      maxWidth: '15em'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 41\n                }, this)]\n              }, product.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 37\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-total\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"label\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 61\n                }, this), \": \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"total\",\n                children: this.getCartTotal()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-bag\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"View Bag\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 33\n            }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"Checkout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 64\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nCart.contextType = AppContext;\nexport default Cart;","map":{"version":3,"names":["React","Component","AppContext","Container","Header","Cart","getCartTotal","cart","currentCurrency","context","total","product","productPrice","getProductPrice","priceAsNumber","Number","replace","toFixed","parseFloat","increaseProductQuantity","productIndex","findIndex","p","id","quantity","splice","updateCart","decreaseProductQuantity","render","length","map","name","marginBottom","attributes","attribute","items","item","display","marginRight","backgroundColor","value","padding","gallery","at","maxWidth","contextType"],"sources":["/Users/douglas/Desktop/Interview-main/Frontend/src/components/Cart/Cart.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport AppContext from '../../context/AppContext';\nimport Container from '../Container';\nimport Header from '../Header';\nimport './Cart.css';\n\nclass Cart extends Component {\n    getCartTotal = () => {\n        const { cart, currentCurrency } = this.context;\n        let total = 0;\n        for (const product of cart) {\n            const productPrice = this.context.getProductPrice(product, true);\n            const priceAsNumber = Number(productPrice.replace(/[^\\d.]+/, '')).toFixed(2);\n            total += parseFloat(priceAsNumber);\n        }\n\n        return `${currentCurrency}${Number(total).toFixed(2)}`;\n    }\n\n    increaseProductQuantity = (product) => {\n        const { cart } = this.context;\n        const productIndex = cart.findIndex((p) => p.id === product.id);\n        product.quantity++;\n        cart.splice(productIndex, 1, product)\n        this.context.updateCart(cart);\n    }\n\n    decreaseProductQuantity = (product) => {\n        const { cart } = this.context;\n        const productIndex = cart.findIndex((p) => p.id === product.id);\n        product.quantity--;\n        if (product.quantity <= 0) {\n            cart.splice(productIndex, 1);\n        } else {\n            cart.splice(productIndex, 1, product);\n        }\n        this.context.updateCart(cart);\n    }\n\n    render() {\n        return (\n            <AppContext.Consumer>\n                {(context) => (\n                    <>\n                        <Header />\n\n                        <Container>\n                            <h1>My bag: {context.cart.length} {context.cart.length === 1 ? 'Item' : 'Items'}</h1>\n                            <div className='cart-products'>\n                                {context.cart.map((product) => (\n                                    <div key={product.id} className=\"cart-product\">\n                                        <div className=\"product-details\">\n                                            <button onClick={() => this.increaseProductQuantity(product)}>+</button>\n                                            <p>{product.name}</p>\n                                            <p className='product-price'>{context.getProductPrice(product, true)}</p>\n                                            <div className=\"product-attributes\" style={{ marginBottom: '1em' }}>\n                                                {product.attributes.map((attribute) => (\n                                                    <div key={attribute.id} className=\"attribute\">\n                                                        <p className=\"attribute-name\">{attribute.name}:</p>\n                                                        <div className=\"attribute-items\">\n                                                            {attribute.items.map((item) => (\n                                                                <button\n                                                                    key={item.id}\n                                                                    style={{\n                                                                        display: 'inline-block',\n                                                                        marginRight: '0.2em',\n                                                                        backgroundColor: (attribute.id === 'Color' ? item.value : null),\n                                                                        padding: (attribute.id === 'Color' ? '0.5em' : null),\n                                                                    }}\n                                                                >\n                                                                    {attribute.id === 'Color' ? '' : item.value}\n                                                                </button>\n                                                            ))}\n                                                        </div>\n                                                    </div>\n                                                ))}\n                                            </div>\n                                            <button onClick={() => this.decreaseProductQuantity(product)}>-</button>\n                                        </div>\n                                        <div className=\"product-image\">\n                                            <img src={product.gallery?.at(0)} alt={product.name} style={{ maxWidth: '15em' }} />\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n                            <div className=\"cart-total\">\n                                <p>\n                                    <span className='label'><strong>Total</strong>: </span>\n                                    <span className=\"total\">{this.getCartTotal()}</span>\n                                </p>\n                            </div>\n                            <div className=\"cart-bag\">\n                                <button>View Bag</button>&nbsp;<button>Checkout</button>\n                            </div>\n                        </Container>\n                    </>\n                )}\n            </AppContext.Consumer>\n        );\n    }\n}\n\nCart.contextType = AppContext;\n\nexport default Cart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}